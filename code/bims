# means and sem for trial duration
names = np.unique(df_low.subj).tolist()
n = df_low.shape[1]/len(names)
means = np.array(df_low.tpertrial.groupby(df_low.subj).mean())
sems = np.array(df_low.tpertrial.groupby(df_low.subj).std())/np.sqrt(n)

# put to dataframe
df_all = pd.DataFrame(list(zip(names, means, sems)),
                      columns=('names', 'tpertrial_means', 'tpertrial_sems'))

# means and sems for no of switches
means = np.array(df_low.switches.groupby(df_low.subj).mean())
sems = np.array(df_low.switches.groupby(df_low.subj).std())/np.sqrt(n)
df_all['switches_means'] = means
df_all['switches_sems'] = sems

# plot data for all subjects
for name, color in zip(df_all.names, colors):
    minidf = df_all[df_all.names == name]
    plt.errorbar(minidf_low.switches_means, minidf_low.tpertrial_means,
                 xerr=minidf_low.switches_sems, yerr=minidf_low.tpertrial_sems, fmt='bo', label=name, color=color)
plt.legend()
plt.show()